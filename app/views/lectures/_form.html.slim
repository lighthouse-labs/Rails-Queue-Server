= form.input :subject, label: 'Subject', placeholder: "Lecture topic (don't include 'WxDy')"
= form.input :youtube_url, label: 'Lecture Video', placeholder: 'YouTube Link'
= form.association :presenter, collection: Teacher.all.order(:last_name, :first_name), label_method: :full_name, selected: current_user
= form.input :presenter_name, as: :hidden
= form.input :cohort_id, collection: ([@cohort] + Cohort.most_recent_first.all).uniq, prompt: 'Select a cohort'

label Body
pre#body_content style="display:none" = @lecture.body
#body-editor.editor

label Teacher Notes (any tips for future teachers)
pre#notes_content style="display:none" = @lecture.teacher_notes
#notes-editor.editor

= form.input :body, as: :hidden
= form.input :teacher_notes, as: :hidden, required: false

- content_for :end_of_body do
  css:
    .editor {
      width: 100%;
      height: 300px;
      margin-bottom: 10px;
    }
  javascript:
    function initEditors() {
      var bodyEditor = ace.edit("body-editor");
      bodyEditor.setTheme("ace/theme/monokai");
      bodyEditor.getSession().setMode("ace/mode/markdown");
      bodyEditor.setValue($('#body_content').text())
      var notesEditor = ace.edit("notes-editor");
      notesEditor.setTheme("ace/theme/monokai");
      notesEditor.getSession().setMode("ace/mode/markdown");
      notesEditor.setValue($('#notes_content').text())
      var presenter = $(lecture_presenter_id);
      presenter.setValue($('#presenter_name').text())

      $('form').submit(function(evt) {
        evt.preventDefault();

        $('#lecture_body').val(bodyEditor.getValue());
        $('#lecture_teacher_notes').val(notesEditor.getValue());
        $('#presenter_name').val(presenter_name.getValue());
        this.submit();
      });
    }
    $(initEditors); // regular document ready

